<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Piotr Zolnierek">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
<link href='/getting_rusty/assets/stylesheets/bootstrap.min-88238289010db19359d2181e634e95cd.css' type='text/css' rel='stylesheet' media='all'>
<link href='/getting_rusty/assets/stylesheets/style-610af012e1374521168a0e68f158f2ac.css' type='text/css' rel='stylesheet' media='all'>
<link href='/getting_rusty/assets/stylesheets/google_prettify/tomorrow-82a19da08986f662446781ff21d475f2.css' type='text/css' rel='stylesheet' media='all'>
    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-narrow">
          <a class="brand" href="/getting_rusty/">Rust by Example</a>
          <ul class="nav">
              
                <li><a href="/getting_rusty/archive">Archive</a></li>
              
              
                <li><a href="/getting_rusty/tags">Tags</a></li>
              
              
                <li><a href="/getting_rusty/categories">Categories</a></li>
              
              
                <li><a href="/getting_rusty/pages">Pages</a></li>
              
          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        <div class="row-fluid">
  <div class="span12">
      <div class="posts">
        <h3 class="title"><a href="/getting_rusty/posts/20140108_to_str">ToStr</a> <span class="date">2014-01-08</span></h3>

        <div class="summary">
<p>In order to have a default implementaton of <code>to_str()</code> you need to add <code>#[deriving(ToStr, Rand)]</code></p>

<pre><code class="rust">#[deriving(ToStr, Rand)]
enum Weapons {
  Sword,
  Club,
  Gaze
}

println(Club.to_str);

// =&gt; Club
</code></pre>

<p>The alternative, workin' in most cases, would be using <code>format!</code>. The formatting string <code>{:?}</code> means it will use reflection to display the struct name and values. This is similar to Ruby's <code>#inspect</code>.</p>

<pre><code class="rust">enum Monsters {
  Goblin,
  Orc
}

fn main() {
  println(format!("{:?}", Orc));
}

// =&gt; Orc
</code></pre>
</div>

        <div class="more">
          <a href="/getting_rusty/posts/20140108_to_str" class="btn btn-small">read more..</a>
        </div>
      </div>
      <div class="posts">
        <h3 class="title"><a href="/getting_rusty/posts/20140119_ruby_p_in_rust">Ruby p aka puts driven development</a> <span class="date">2014-01-19</span></h3>

        <div class="summary ellipsis">
<p>Given the lack of a useful debugger in Ruby, we often refer to <code>p obj</code> to print an object to the console in order to inspect its value.</p>

<pre><code class="ruby">Foo = Struct.new(:bar)
foo = Foo.new(7)
p foo # =&gt; #&lt;struct Foo bar=7&gt;
</code></pre>

<p>Actually you can do pretty much the same in Rust, too:</p>

<pre><code class="rust">struct Foo {
  bar: uint
}

fn main() {
  let foo = Foo { bar: 7u };
  p!(foo); // =&gt; Foo{bar: 7u}
}
</code></pre>

<p>Actually Rust does not come from the factory with a <code>p!</code> - a syntax extension or a macro, but we can write it ourselves:</p>

</div>

        <div class="more">
          <a href="/getting_rusty/posts/20140119_ruby_p_in_rust" class="btn btn-small">read more..</a>
        </div>
      </div>
      <div class="posts">
        <h3 class="title"><a href="/getting_rusty/posts/20140122_destructuring_in_rust">Destructuring and Pattern Matching</a> <span class="date">2014-01-22</span></h3>

        <div class="summary ellipsis">
<p>Pattern matching is one of the features I like most about modern / functional style languages, also one I sincerely enjoy in <a href="http://rust-lang.org">Rust</a>.</p>

<p>It works in a lot of different scenarios, the most basic is in a local scope using <code>let</code>.</p>

<pre><code class="rust">let tuple = (1, 2);
let (a, b) = tuple; // =&gt; a =  1; b = 2
</code></pre>

<h2 id="toc_0">Structs</h2>

<p>Should you have the need to capture a nested tuple or something, you can do that with the Haskell @ syntax:</p>

<pre><code class="rust">struct Foo { x: (uint, uint), y: uint }

let foo = Foo { x: (1, 2), y: 3 };
let Foo { x: tuple @ (a, b), .. } = foo; // =&gt; a == 1; b == 2; tuple == (1, 2)
</code></pre>

<p>You can destructure structs and rename the variables:</p>

<pre><code class="rust">struct Point { x: uint, y: uint }

let  p = Point { x: 1, y: 2 };
let  Point { x: new_x, y: new_y } = p; // =&gt; new_x == 1, new_y == 2
</code></pre>
</div>

        <div class="more">
          <a href="/getting_rusty/posts/20140122_destructuring_in_rust" class="btn btn-small">read more..</a>
        </div>
      </div>
      <div class="posts">
        <h3 class="title"><a href="/getting_rusty/posts/20140126_rust-by-example-strings">Strings</a> <span class="date">2014-02-01</span></h3>

        <div class="summary ellipsis">
<p>Here are some examples of string related functions I find interesting from stdlib.</p>

<h2 id="toc_0">Comparing</h2>

<p>The first thing that struck me when I first started with <a href="http://rust-lang.org">Rust</a>, was that a simple string comparison does not work, at least not the way you'd expect, because I was still oblivious of how pointers and friends work in <a href="http://rust-lang.org">Rust</a>.</p>

<pre><code class="rust">let bilbo = ~"Bilbo Baggins"; // owned
if bilbo == "Bilbo Baggins" {};
// -&gt; error: mismatched types: expected `~str` but found `&amp;'static str` (str storage differs: expected `~` but found `&amp;'static `)
</code></pre>

<p>That is because <code>bilbo</code> is an owned pointer and the literal <code>"Bilbo Baggins"</code> is a static borrowed pointer.</p>

<p>Those examples <em>will work</em>:</p>

<pre><code class="rust">let bilbo = ~"Bilbo Baggins";

if "Bilbo Baggins" == bilbo {}; // [1] auto-borrow on .eq
if bilbo == "Bilbo Baggins".to_owned() {}; // convert &amp;'static str to ~str
if bilbo.as_slice() == "Bilbo Baggins" {};
</code></pre>

</div>

        <div class="more">
          <a href="/getting_rusty/posts/20140126_rust-by-example-strings" class="btn btn-small">read more..</a>
        </div>
      </div>
      <div class="posts">
        <h3 class="title"><a href="/getting_rusty/posts/20140201_converting_from_string">Converting from ~str</a> <span class="date">2014-02-01</span></h3>

        <div class="summary ellipsis">
<h2 id="toc_0">Converting from String</h2>

<p>When converting from string to numbers, you will have to provide the type manually</p>

<pre><code class="rust">let f = from_str("1.2");
// -&gt; error: cannot determine a type for this bounded type parameter: unconstrained type

let f: f32 = from_str("1.2").unwrap(); // -&gt; 1.2f32
</code></pre>

<p>The trait <a href="http://static.rust-lang.org/doc/master/std/from_str/trait.FromStr.html">FromStr</a> is defined as</p>

<pre><code class="rust">pub trait FromStr {
    fn from_str(s: &amp;str) -&gt; Option&lt;Self&gt;;
}
</code></pre>

<p>so it returns a Some<t> if the conversion succeeds or a None if it doesn't</t></p>

<pre><code class="rust">// Some&lt;T&gt;
let oi: Option&lt;uint&gt; = from_str("1");
assert_eq!(oi, Some(1u));

// None, if the provided string cannot be converted
let oi: Option&lt;uint&gt; = from_str("x");
assert_eq!(oi, None);
</code></pre>
</div>

        <div class="more">
          <a href="/getting_rusty/posts/20140201_converting_from_string" class="btn btn-small">read more..</a>
        </div>
      </div>
    
    <div class="pagination">
      <ul>
          <li class="active"><a href="/getting_rusty/posts/index/1">1</a></li>
      </ul>
    </div>
  </div>
</div>

      </div>

      <hr>
      <div class="footer">
        <p>&copy; Piotr Zolnierek 2013
          with help from <a href="http://ruhoh.com" target="_blank" title="The Definitive Technical Blogging Framework">ruhoh</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
        <a href="https://twitter.com/pzol" class="twitter-follow-button" data-show-count="false">Follow @pzol</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
      </div>

    </div> <!-- /container -->

    <!-- Google Prettify -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/188.0.0/prettify.js"></script>
<script>
  var pres = document.getElementsByTagName("pre");
  for (var i=0; i < pres.length; ++i) {
    pres[i].className = "prettyprint ";
  }
  prettyPrint();
</script>
<!-- end Google Prettify -->
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4944917-11']);
  _gaq.push(['_trackPageview']);
  

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


    
  </body>
</html>
