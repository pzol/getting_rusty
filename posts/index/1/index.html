<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Piotr Zolnierek">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
<link href='/getting_rusty/assets/stylesheets/bootstrap.min-88238289010db19359d2181e634e95cd.css' type='text/css' rel='stylesheet' media='all'>
<link href='/getting_rusty/assets/stylesheets/style-610af012e1374521168a0e68f158f2ac.css' type='text/css' rel='stylesheet' media='all'>
<link href='/getting_rusty/assets/stylesheets/google_prettify/tomorrow-82a19da08986f662446781ff21d475f2.css' type='text/css' rel='stylesheet' media='all'>
    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-narrow">
          <a class="brand" href="/getting_rusty/">Getting Rusty</a>
          <ul class="nav">
              
                <li><a href="/getting_rusty/archive">Archive</a></li>
              
              
                <li><a href="/getting_rusty/tags">Tags</a></li>
              
              
                <li><a href="/getting_rusty/categories">Categories</a></li>
              
              
                <li><a href="/getting_rusty/pages">Pages</a></li>
              
          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        <div class="row-fluid">
  <div class="span12">
      <div class="posts">
        <h3 class="title"><a href="/getting_rusty/posts/20140108_to_str">ToStr</a> <span class="date">2014-01-08</span></h3>

        <div class="summary">
<p>In order to have a default implementaton of <code>to_str()</code> you need to add <code>#[deriving(ToStr, Rand)]</code></p>

<pre><code class="rust">#[deriving(ToStr, Rand)]
enum Weapons {
  Sword,
  Club,
  Gaze
}

println(Club.to_str);

// =&gt; Club
</code></pre>

<p>The alternative, workin' in most cases, would be using <code>format!</code>. The formatting string <code>{:?}</code> means it will use reflection to display the struct name and values. This is similar to Ruby's <code>#inspect</code>.</p>

<pre><code class="rust">enum Monsters {
  Goblin,
  Orc
}

fn main() {
  println(format!("{:?}", Orc));
}

// =&gt; Orc
</code></pre>
</div>

        <div class="more">
          <a href="/getting_rusty/posts/20140108_to_str" class="btn btn-small">read more..</a>
        </div>
      </div>
      <div class="posts">
        <h3 class="title"><a href="/getting_rusty/posts/20140119_ruby_p_in_rust">Ruby p aka puts driven development</a> <span class="date">2014-01-19</span></h3>

        <div class="summary ellipsis">
<p>Given the lack of a useful debugger in Ruby, we often refer to <code>p obj</code> to print an object to the console in order to inspect its value.</p>

<pre><code class="ruby">Foo = Struct.new(:bar)
foo = Foo.new(7)
p foo # =&gt; #&lt;struct Foo bar=7&gt;
</code></pre>

<p>Actually you can do pretty much the same in Rust, too:</p>

<pre><code class="rust">struct Foo {
  bar: uint
}

fn main() {
  let foo = Foo { bar: 7u };
  p!(foo); // =&gt; Foo{bar: 7u}
}
</code></pre>

<p>Actually Rust does not come from the factory with a <code>p!</code> - a syntax extension or a macro, but we can write it ourselves:</p>

</div>

        <div class="more">
          <a href="/getting_rusty/posts/20140119_ruby_p_in_rust" class="btn btn-small">read more..</a>
        </div>
      </div>
      <div class="posts">
        <h3 class="title"><a href="/getting_rusty/posts/20140122_destructuring_in_rust">Destructuring and Pattern Matching</a> <span class="date">2014-01-22</span></h3>

        <div class="summary ellipsis">
<p>Pattern matching is one of the features I like most about modern / functional style languages, also one I sincerely enjoy in <a href="http://rust-lang.org">Rust</a>.</p>

<p>It works in a lot of different scenarios, the most basic is in a local scope using <code>let</code>.</p>

<pre><code class="rust">let tuple = (1, 2);
let (a, b) = tuple; // =&gt; a =  1; b = 2
</code></pre>

<h2 id="toc_0">Structs</h2>

<p>Should you have the need to capture a nested tuple or something, you can do that with the Haskell @ syntax:</p>

<pre><code class="rust">struct Foo { x: (uint, uint), y: uint }

let foo = Foo { x: (1, 2), y: 3 };
let Foo { x: tuple @ (a, b), .. } = foo; // =&gt; a == 1; b == 2; tuple == (1, 2)
</code></pre>

<p>You can destructure structs and rename the variables:</p>

<pre><code class="rust">struct Point { x: uint, y: uint }

let  p = Point { x: 1, y: 2 };
let  Point { x: new_x, y: new_y } = p; // =&gt; new_x == 1, new_y == 2
</code></pre>
</div>

        <div class="more">
          <a href="/getting_rusty/posts/20140122_destructuring_in_rust" class="btn btn-small">read more..</a>
        </div>
      </div>
      <div class="posts">
        <h3 class="title"><a href="/getting_rusty/posts/20140201_converting_from_string">Converting from String</a> <span class="date">2014-02-01</span></h3>

        <div class="summary ellipsis">
<h2 id="toc_0">Converting from String</h2>

<p>When converting from string to numbers, you will have to provide the type manually</p>

<pre><code class="rust">let f = from_str("1.2");
// -&gt; error: cannot determine a type for this bounded type parameter: unconstrained type

let f: f32 = from_str("1.2").unwrap(); // -&gt; 1.2f32

// or like this
let i = from_str::&lt;uint&gt;("5").unwrap();
assert_eq!(i, 5);
</code></pre>

<p>The trait <a href="http://static.rust-lang.org/doc/master/std/from_str/trait.FromStr.html">FromStr</a> is defined as</p>

<pre><code class="rust">pub trait FromStr {
    fn from_str(s: &amp;str) -&gt; Option&lt;Self&gt;;
}
</code></pre>

</div>

        <div class="more">
          <a href="/getting_rusty/posts/20140201_converting_from_string" class="btn btn-small">read more..</a>
        </div>
      </div>
      <div class="posts">
        <h3 class="title"><a href="/getting_rusty/posts/20140203_hashmap">HashMap</a> <span class="date">2014-02-11</span></h3>

        <div class="summary ellipsis">
<p>This is a non-exhaustive non-academic, example-driven, rather-practical guide on how to use the HashMap in Rust. As a side effect of working on the HashMap some hands-on examples of Rust's unique concepts of ownership and borrowing references will be demonstrated.</p>

<h2 id="toc_0">Prelude</h2>

<p>Before we get to the real stuff, here's is something which is not directly HashMap, but more <a href="http://rust-lang.org">Rust</a> pointer and friends stuff, however got me stuck for some time.</p>

<pre><code class="rust">fn add_map(map: &amp;mut HashMap&lt;~str, uint&gt;, k: &amp;str, v: uint) {
  map.insert(k.to_owned(), v); 
}
</code></pre>

<p>In order to be able to modify, make sure the <code>map</code> is mutable both in the  <code>add_map</code> method as in the declaration of the <code>HashMap</code>. If you don't you will get an error saying <code>error: cannot borrow immutable dereference of &amp; pointer as mutable</code>.</p>

<pre><code class="rust">let mut map: HashMap&lt;~str, uint&gt; = HashMap::new();
let key = ~"key string";
let val = 1;

add_map(&amp;map, key, val);
println!("{:?}", key);
</code></pre>

</div>

        <div class="more">
          <a href="/getting_rusty/posts/20140203_hashmap" class="btn btn-small">read more..</a>
        </div>
      </div>
    
    <div class="pagination">
      <ul>
          <li class="active"><a href="/getting_rusty/posts/index/1">1</a></li>
          <li><a href="/getting_rusty/posts/index/2">2</a></li>
      </ul>
    </div>
  </div>
</div>

      </div>

      <hr>
      <div class="footer">
        <p>&copy; Piotr Zolnierek 2013
          with help from <a href="http://ruhoh.com" target="_blank" title="The Definitive Technical Blogging Framework">ruhoh</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
        <a href="https://twitter.com/pzol" class="twitter-follow-button" data-show-count="false">Follow @pzol</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
      </div>

    </div> <!-- /container -->

    <!-- Google Prettify -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/188.0.0/prettify.js"></script>
<script>
  var pres = document.getElementsByTagName("pre");
  for (var i=0; i < pres.length; ++i) {
    pres[i].className = "prettyprint ";
  }
  prettyPrint();
</script>
<!-- end Google Prettify -->
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4944917-11']);
  _gaq.push(['_trackPageview']);
  

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


    
  </body>
</html>
